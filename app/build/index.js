(()=>{function f({id:e,name:t,description:r,quantity:c}){let o=document.createElement("div");return o.id=`product-${e}`,o.classList.add("product"),o.innerHTML=`
    <div class="wrapper" >
      <span class="product__name">${t}</span>
      <span class="product__description">${r}</span>
    </div>
    <input type="number" value="${c}" class="product__quantity"/>
  `,o}var n=f;var m="http://localhost:3000";async function a(e){try{return await(await fetch(`${m}/user/category/${e.id}/product`)).json()}catch(t){return console.error("error fetching products on category:",t),[]}}async function E(e){let t=document.createElement("div");return t.id=`category-${e.name}`,t.classList.add("category"),t.innerHTML=`<div class="category__name">${e.name}</div>`,(await a(e)).forEach(c=>{let o=n(c);t.appendChild(o)}),t}var s=E;var $="http://localhost:3000";async function i(){try{return await(await fetch(`${$}/user/all/category`)).json()}catch(e){return console.error("error fetching categories:",e),[]}}async function w(){try{let e=document.querySelector("main"),t=await i();for(let r of t){let c=await s(r);e.appendChild(c)}}catch(e){console.error("Error rendering categories:",e)}}var d=w;function v(e){Array.from(document.querySelectorAll(".product")).forEach(r=>{r.querySelector(".product__name").textContent.includes(e)||e==""?r.classList.remove("product--desactive"):r.classList.add("product--desactive")})}var u=v;function _(){document.querySelector("#search__input").addEventListener("input",t=>{u(t.target.value)})}var p=_;function L(e,t){if(!(t.target.className=="category__name"))return;e.classList.toggle("category--toggle"),Array.from(e.children).forEach(o=>{o.classList.contains("category__name")||o.classList.toggle("product--toggle")})}var l=L;function P(){Array.from(document.querySelectorAll(".category")).forEach(t=>{t.addEventListener("click",r=>l(t,r))})}var y=P;function g(){p(),y()}document.addEventListener("DOMContentLoaded",async()=>{await d(),g()});})();
